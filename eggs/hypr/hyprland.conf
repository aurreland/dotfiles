# Wallpapers
exec-once = swww-daemon

# Cursor
exec-once = hyprctl setcursor Bibata-Modern-Ice 24

# Bar
exec-once = eww open bar

# Systray apps
exec-once = nm-applet
exec-once = blueman-tray

# Services
exec-once = wl-paste --watch cliphist store
exec-once = wlsunset -l 45.7 -L 4.8ss
exec-once = hypridle

# {% if SYSTEM.hostname == "demeter" %}
#<yolk> monitor = DP-3,1920x1080@164.92Hz, 0x0, 1
# {% else %}
monitor = ,preferred,auto,auto
# {% end %}

general {
    gaps_in = 0
    gaps_out = 0

    border_size = 4

    col.active_border = rgb(e67e80)   # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base0E)) >}
    col.inactive_border = rgb(4a555b) # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base02)) >}
}

decoration {
    rounding = 0
    rounding_power = 4
    shadow {
        enabled = false
        color = rgb(2f383e) # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base00)) >}
    }
}

group {
    col.border_active = rgb(a7c080)   # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base0D)) >}
    col.border_inactive = rgb(4a555b) # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base02)) >}

    col.border_locked_active = rgb(e69875)   # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base0C)) >}

    groupbar {
        enabled = false

        font_size = 12
        text_color = rgb(d3c6aa)   # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base05)) >}

        col.active = rgb(4a555b)   # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base02)) >}
        col.inactive = rgb(4a555b) # {< replace_value(tools::color_hex_to_rgb_hypr(data.colors.base02)) >}
    }
}


misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
}

input {
    kb_layout = fr

    follow_mouse = 2
}

animations {
    enabled = false
}

windowrulev2 = float, title:(Picture-in-Picture)
windowrulev2 = move 10 10, title:(Picture-in-Picture)
windowrulev2 = pin, title:(Picture-in-Picture)
windowrulev2 = keepaspectratio true, title:(Picture-in-Picture)

# Main binds
bind = Super,       A, exec, foot -e bash ~/.config/tmux/tmux-first-unattached-session.sh
bind = Super+Shift, C, killactive,
bind = Super,       R, exec, rofi -show drun
bind = Super,       E, exec, nautilus

# Reload Bar in case of crashes or else
bind = Super+Shift, R, exec, pkill eww && eww open bar

# Window management
bind = Super,       D, togglefloating
bind = Super,       F, fullscreen
bind = Super+Shift, F, fullscreen, 1
bind = Super,       Y, pin

# Move Windows
bind = Super, H, movefocus, l
bind = Super, L, movefocus, r
bind = Super, J, movefocus, d
bind = Super, K, movefocus, u

bind = Super+Shift, H, movewindow, l
bind = Super+Shift, L, movewindow, r
bind = Super+Shift, J, movewindow, d
bind = Super+Shift, K, movewindow, u

# Groups
bind = Super,       G, togglegroup
bind = Super+Shift, G, lockactivegroup, toggle
bind = Alt,         Tab, changegroupactive, f

# Screenshot, OCR
bind = Super,       C, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy
bind = Super,       S, exec, grim -g "$(slurp)" - | wl-copy
bind = Super+Shift, S, exec, grim -g "$(slurp)" - | swappy -f -
bind = Super+Alt,   S, exec, grim -g "$(slurp $SLURP_ARGS)" "tmp.png" && tesseract "tmp.png" - | wl-copy && rm "tmp.png"

# Session
bind = Super,       M, exit,
bind = Super+Shift, E, exec, loginctl lock-session
bind = Super,       Backspace, exec, rofi -show power-menu -modi "power-menu:rofi-power-menu --no-symbols --confirm suspend/hibernate/reboot/shutdown"

# Mouse
bindm = Super, mouse:272, movewindow
bindm = Super, mouse:273, resizewindow

# Workspaces
bind = Super, ampersand, workspace, 1
bind = Super, eacute, workspace, 2
bind = Super, quotedbl, workspace, 3
bind = Super, apostrophe, workspace, 4
bind = Super, parenleft, workspace, 5
bind = Super, minus, workspace, 6
bind = Super, egrave, workspace, 7
bind = Super, underscore, workspace, 8
bind = Super, ccedilla, workspace, 9
bind = Super, agrave, workspace, 10

# Send to Workspaces
bind = Super+Shift, ampersand, movetoworkspace, 1
bind = Super+Shift, eacute, movetoworkspace, 2
bind = Super+Shift, quotedbl, movetoworkspace, 3
bind = Super+Shift, apostrophe, movetoworkspace, 4
bind = Super+Shift, parenleft, movetoworkspace, 5
bind = Super+Shift, minus, movetoworkspace, 6
bind = Super+Shift, egrave, movetoworkspace, 7
bind = Super+Shift, underscore, movetoworkspace, 8
bind = Super+Shift, ccedilla, movetoworkspace, 9
bind = Super+Shift, agrave, movetoworkspace, 10

# Send to Workspaces Silently
bind = Super+Control, ampersand, movetoworkspacesilent, 1
bind = Super+Control, eacute, movetoworkspacesilent, 2
bind = Super+Control, quotedbl, movetoworkspacesilent, 3
bind = Super+Control, apostrophe, movetoworkspacesilent, 4
bind = Super+Control, parenleft, movetoworkspacesilent, 5
bind = Super+Control, minus, movetoworkspacesilent, 6
bind = Super+Control, egrave, movetoworkspacesilent, 7
bind = Super+Control, underscore, movetoworkspacesilent, 8
bind = Super+Control, ccedilla, movetoworkspacesilent, 9
bind = Super+Control, agrave, movetoworkspacesilent, 10
